!function t(e,r,n,o,i){const a="zutm_info",c="zdmp_pid",s="zdmp_pssid",u="zdmp_lsrcref";if(!n){var l=e.location.search;const t=new URLSearchParams(l),n=t.get("zutm_source"),o=t.get("zutm_medium"),i=t.get("zutm_campaign"),c=t.get("zutm_ads");if(n&&i){const t={zutm_source:n,zutm_medium:o,zutm_campaign:i,zutm_ads:c,zutm_initTime:Date.now()};localStorage.setItem(a,e.btoa(JSON.stringify(t))),e.ztr.queue.push({action:"track",event:"__ZDMP_INIT_UTM__"})}if(t.get("ztr_verify")&&e.ztr("track","__ZDMP_VERIFY__"),r.referrer){const t=new URL(r.referrer);t.origin!==r.location.origin&&r.referrer!==localStorage.getItem(u)&&localStorage.setItem(u,t.origin)}}if(!e.ZA){n||((i=r.createElement("script")).type="text/javascript",i.src="https://za.zdn.vn/v3/za.js?v=2.0",i.async=!1,(o=r.getElementsByTagName("script")[0]).parentNode.insertBefore(i,o),n=setInterval((function(){t(e,r,n)}),2e3));var m=e.ztr.queue||[];return e.ztr=function(t,r,n){e.ztr.queue.push({action:"track",event:r?String(r):"",arguments:Object.assign({},n)})},void(e.ztr.queue=m||[])}n&&clearInterval(n);var g=e.ztr.queue||[];e.ztr=function(n,o,i){switch(n){case"init":localStorage.setItem(c,""+o);break;case"track":if(!e.ZA)return e.ztr.queue=e.ztr.queue||[],e.ztr.queue.push({action:"track",event:o?String(o):"",arguments:Object.assign({},i)}),void t(e,r);const a=localStorage.getItem(c);if(!a)return void console.log("Pixel ID is not correctly initialized.");let s={};s.id=a,s.event=o,z(s,i),s.sessionId=p(),s.time=Date.now(),x(s),s.version=1,s.zscript=1,s.lastsrcref=localStorage.getItem(u),e.ZA.getVisitorID((function(){s.vid=f("__zi");let t=new Image;t.referrerPolicy="no-referrer-when-downgrade",t.src="https://px.dmp.zaloapp.com/tr?"+d(s)}));break;default:console.log("Unsupported action: "+n)}},ztr.callMethod=ztr;const f=function(t){for(var e=r.cookie.split(";"),n=t+"=",o=0;o<e.length;o++){var i=e[o].trim();if(0===i.indexOf(n))return i.substring(n.length,i.length)}return""},z=function(t,e){Object.keys(e||{}).forEach((r=>{t["p["+r+"]"]=e[r]}))},x=function(t){const r=localStorage.getItem(a);if(!r)return;const n=JSON.parse(e.atob(r));n.zutm_windowTime=Date.now()-n.zutm_initTime,Object.keys(n).forEach((e=>{t[e]=n[e]}))},d=function(t){return Object.keys(t).filter((e=>null!==t[e]&&void 0!==t[e])).map((function(e){return[e,t[e]].join("=")})).join("&")},p=function(){let t=sessionStorage.getItem(s);return t||(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:11&e).toString(16)})),sessionStorage.setItem(s,t)),t};g.length&&(g.forEach((function(t){ztr(t.action,t.event,t.args)})),e.ztr.queue=[])}(window,document);